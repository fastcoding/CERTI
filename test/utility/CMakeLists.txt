INCLUDE_DIRECTORIES(
  ${CMAKE_SOURCE_DIR}/libCERTI 
  ${CMAKE_SOURCE_DIR}/libHLA
  )

ADD_EXECUTABLE(CertiProcessus_A Main_SocketSHM.cc SharedStruct.hh)
IF(WIN32)
    TARGET_LINK_LIBRARIES(CertiProcessus_A CERTI HLA)
ELSE(WIN32)
    TARGET_LINK_LIBRARIES(CertiProcessus_A CERTI HLA rt)
ENDIF(WIN32)

SET_TARGET_PROPERTIES(CertiProcessus_A PROPERTIES COMPILE_FLAGS -DSIDE_SC)

ADD_EXECUTABLE(CertiProcessus_B Main_SocketSHM.cc SharedStruct.hh)

IF(WIN32)
    TARGET_LINK_LIBRARIES(CertiProcessus_B CERTI HLA)
ELSE(WIN32)
    TARGET_LINK_LIBRARIES(CertiProcessus_B CERTI HLA rt)
ENDIF(WIN32)

SET_TARGET_PROPERTIES(CertiProcessus_B PROPERTIES COMPILE_FLAGS -DSIDE_CS)

INSTALL(TARGETS CertiProcessus_A CertiProcessus_B
    RUNTIME DESTINATION bin
    LIBRARY DESTINATION lib
    ARCHIVE DESTINATION lib)
